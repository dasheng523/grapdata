# Introduction to grapdata

TODO: write [great documentation](http://jacobian.org/writing/what-to-write/)

首先一点，需要一个任务池，用来装入各种抓取任务。
每项任务都有start,stop,restart,end操作。
任务有id,start-url

每个任务都有一个抓取引擎Engine,可以生产一个引擎。那么引擎怎么跟任务关联呢？引擎应该在任务里面。
如果引擎中的函数参数不足，可以外套一个函数，形成闭包。
引擎可以传入给任务？总感觉有些别扭，我想要的做法是其实还是把引擎传入任务。
引擎传给任务，任务实现协议，还是直接将引擎传入协议当中？如果引擎传入协议当中，
还是想想最终用于的接口是什么。

最终的用户只需要给写一些引擎细节，然后生成一个服务，给服务传入任务参数即可。
这里有一点不知道怎么实现，那就是没得到任务的参数我就不懂怎么写服务。

我该怎么生成一个服务呢？

那么引擎怎么设计呢？
引擎就用一个Map来存放，因为暂时没有别的需求。

头大了，都很多天了，一点头绪都没有。
就这么决定把，死磕到底了。

创建一个爬虫引擎，那么爬虫引擎是什么？map还是record？我觉得应该是一个record好一点。因为record可以实现一些协议。
可我有觉得record不太好，因为不需要。用map也觉得怪怪的。看了别人写的server好像都是record充当环境，然后相关的当作是协议。
但是我这边，协议也是需要动态实现的。可否将动态的部分通过参数传入呢？看看有没有需要返回一堆方法的最佳实现呢？
突然觉得要实现一个

执行环境，跟server有什么区别吗？应该没什么区别。现在困难的在于怎么把.

OK，搞定了。思路一下子清晰了很多很多。而且程序也写得差不多了。
现在要把程序写完，然后测试，最后重新整理。